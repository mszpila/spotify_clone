{"version":3,"sources":["spotify.js","Login.js","SidebarOption.js","DataLayer.js","Sidebar.js","Header.js","SongRow.js","Body.js","Footer.js","Library.js","Card.js","Cards.js","Home.js","Search.js","Player.js","App.js","serviceWorker.js","reducer.js","index.js"],"names":["loginUrl","join","Login","className","src","alt","href","SidebarOption","title","Icon","to","DataLayerContext","createContext","DataLayer","initialState","reducer","children","Provider","value","useReducer","useDataLayerValue","useContext","Sidebar","playlists","HomeIcon","SearchIcon","LibraryMusicIcon","items","map","playlist","name","id","Header","spotifyApi","user","dispatch","history","useHistory","location","useLocation","pathname","onClick","key","goBack","goForward","placeholder","type","onChange","event","search","target","limit","then","response","payload","catch","err","console","log","autoFocus","Avatar","images","url","display_name","SongRow","track","index","isLocal","player","playback","saved","library","playPause","newState","context","uri","track_window","current_track","togglePlay","play","context_uri","offset","item","uris","useEffect","next_tracks","next","getMySavedTracks","savedTracks","toggleFav","removeFromMySavedTracks","addToMySavedTracks","is_local","album","paused","fontSize","artists","artist","Body","useParams","tracks","useState","isLoading","setIsLoading","element","document","getElementsByClassName","header","addEventListener","handleScroll","removeEventListener","colorChange","scrollTop","style","backgroundColor","scrollHeight","clientHeight","getPlaylistTracks","ids","containsMySavedTracks","getPlaylist","results","loading","description","Footer","volume","query","recentTracks","recommandations","featuredPlaylists","newReleases","categories","topTracks","vol","setVol","fav","setFav","body","keyBoardController","keyCode","preventDefault","mute","seekPosition","position","duration","changeVolume","prevTrack","nextTrack","activateRepeat","activateShuffle","setShuffle","shuffle","repeat_mode","setRepeat","setVolume","newVolume","getMyCurrentPlaybackState","result","progress_ms","ms","seek","previousTrack","newPosition","interval","setInterval","getCurrentState","state","clearInterval","Slider","Grid","container","spacing","xs","Library","Card","onLoad","Cards","Home","getMyTopTracks","getMyRecentlyPlayedTracks","getRecommendations","recommendations","getFeaturedPlaylists","getNewReleases","releases","getCategories","albums","Search","length","shows","episodes","Player","token","script","createElement","async","appendChild","removeChild","window","onSpotifyWebPlaybackSDKReady","Spotify","getOAuthToken","cb","addListener","message","error","device_id","getMyDevices","devices","filter","device","transferMyPlayback","getVolume","connect","success","getMe","getUserPlaylists","path","SpotifyWebApi","App","hash","substring","split","reduce","init","parts","decodeURIComponent","_token","access_token","setAccessToken","Boolean","hostname","match","action","discover_weekly","deviceId","previous","total","ReactDOM","render","StrictMode","playing","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.08ac853d.chunk.js","sourcesContent":["// https://developer.spotify.com/documentation/web-playback-sdk/quick-start/\r\n\r\n// https://developer.spotify.com/documentation/general/guides/authorization-guide/\r\nexport const authEndpoint = \"https://accounts.spotify.com/authorize\";\r\n\r\n// established in the Spotify App -\r\n// https://developer.spotify.com/documentation/general/guides/app-settings/\r\nconst redirectUri = \"http://localhost:3000/\";\r\n\r\n// Spotify App ID\r\nconst clientId = \"227bcf1c0a174f888e12f43096773e43\";\r\n\r\n// https://developer.spotify.com/documentation/general/guides/scopes/\r\nconst scopes = [\r\n\t\"user-read-playback-state\",\r\n\t\"user-read-currently-playing\",\r\n\t\"user-modify-playback-state\",\r\n\t\"user-top-read\",\r\n\t// 'user-read-playback-position'\r\n\t\"user-read-recently-played\",\r\n\t\"streaming\",\r\n\t\"user-read-email\",\r\n\t\"user-read-private\",\r\n\t\"user-library-read\",\r\n\t\"user-read-playback-position\",\r\n\t\"user-library-modify\",\r\n];\r\n\r\n// token is like a pass string that authenticate who you are\r\nexport const loginUrl = `${authEndpoint}?client_id=${clientId}&redirect_uri=${redirectUri}&scope=${scopes.join(\r\n\t\"%20\"\r\n)}&response_type=token&show_dialog=true\"`;\r\n\r\nexport const getTokenFromUrl = () => {\r\n\t// window location is just the place where is the url\r\n\t// window.location.hash =\r\n\t// #access_token=BQBkz5BZk1wpfYIGlK8lQw55_FHau-e6CgVLdB13_2jlv6WOC9iH93WLoicJIRqDmZ3u5XTI4dedfr8DBIikShE8rDNym-pUQAyvKcdEyWYr-omGoKvo5TNGRRlTmdJAcPBI_2WK0ZuSpwAnM4lvDl0czdDhPg&token_type=Bearer&expires_in=3600\r\n\t// .substring(1) removes the \"#\"\r\n\t// .split(\"&\") we got 3 items:\r\n\t// 0: \"access_token=BQBkz5BZk1wpfYIGlK8lQw55_FHau-e6CgVLdB13_2jlv6WOC9iH93WLoicJIRqDmZ3u5XTI4dedfr8DBIikShE8rDNym-pUQAyvKcdEyWYr-omGoKvo5TNGRRlTmdJAcPBI_2WK0ZuSpwAnM4lvDl0czdDhPg\"\r\n\t// 1: \"token_type=Bearer\"\r\n\t// 2: \"expires_in=3600\"\r\n\t// reduce function returns an object\r\n\t// access_token: \"BQBkz5BZk1wpfYIGlK8lQw55_FHau-e6CgVLdB13_2jlv6WOC9iH93WLoicJIRqDmZ3u5XTI4dedfr8DBIikShE8rDNym-pUQAyvKcdEyWYr-omGoKvo5TNGRRlTmdJAcPBI_2WK0ZuSpwAnM4lvDl0czdDhPg\"\r\n\t// expires_in: \"3600\"\r\n\t// token_type: \"Bearer\"\r\n\treturn window.location.hash\r\n\t\t.substring(1)\r\n\t\t.split(\"&\")\r\n\t\t.reduce((init, item) => {\r\n\t\t\tlet parts = item.split(\"=\");\r\n\t\t\tinit[parts[0]] = decodeURIComponent(parts[1]);\r\n\t\t\treturn init;\r\n\t\t}, {});\r\n};\r\n","import React from \"react\";\r\nimport \"./Login.css\";\r\nimport { loginUrl } from \"./spotify\";\r\n\r\nfunction Login() {\r\n\treturn (\r\n\t\t<div className=\"login\">\r\n\t\t\t<img\r\n\t\t\t\tsrc=\"https://prowly-uploads.s3.eu-west-1.amazonaws.com/uploads/1036/assets/56130/Spotify_Logo_CMYK_Green.png\"\r\n\t\t\t\talt=\"spotify logo\"\r\n\t\t\t/>\r\n\t\t\t<a href={loginUrl}>LOGIN WITH SPOTIFY</a>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport \"./SidebarOption.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction SidebarOption({ title, Icon, to }) {\r\n\treturn (\r\n\t\t<Link to={to} className=\"sidebarOption\">\r\n\t\t\t{Icon && <Icon className=\"sidebarOption__icon\" />}\r\n\t\t\t{Icon ? <h4>{title}</h4> : <p>{title}</p>}\r\n\t\t</Link>\r\n\t);\r\n}\r\n\r\nexport default SidebarOption;\r\n","import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\nexport const DataLayerContext = createContext();\r\n\r\nexport const DataLayer = ({ initialState, reducer, children }) => (\r\n\t<DataLayerContext.Provider value={useReducer(reducer, initialState)}>\r\n\t\t{children}\r\n\t</DataLayerContext.Provider>\r\n);\r\n\r\nexport const useDataLayerValue = () => useContext(DataLayerContext);\r\n","import React from \"react\";\r\nimport \"./Sidebar.css\";\r\nimport SidebarOption from \"./SidebarOption\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport LibraryMusicIcon from \"@material-ui/icons/LibraryMusic\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n\r\nfunction Sidebar() {\r\n\tconst [{ playlists }, dispatch] = useDataLayerValue();\r\n\r\n\t// const updateId = (id) => {\r\n\t// \tdispatch({\r\n\t// \t\ttype: \"SET_PLAYLIST_ID\",\r\n\t// \t\tpayload: id,\r\n\t// \t});\r\n\t// \tconsole.log(\"id3\", id);\r\n\t// };\r\n\r\n\treturn (\r\n\t\t<div className=\"sidebar\">\r\n\t\t\t<img\r\n\t\t\t\tclassName=\"sidebar__logo\"\r\n\t\t\t\tsrc=\"https://getheavy.com/wp-content/uploads/2019/12/spotify2019-830x350.jpg\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t/>\r\n\t\t\t<SidebarOption Icon={HomeIcon} title=\"Home\" to=\"/\" />\r\n\t\t\t<SidebarOption Icon={SearchIcon} title=\"Search\" to=\"/search\" />\r\n\t\t\t<SidebarOption\r\n\t\t\t\tIcon={LibraryMusicIcon}\r\n\t\t\t\ttitle=\"Your Library\"\r\n\t\t\t\tto=\"/library\"\r\n\t\t\t/>\r\n\r\n\t\t\t<br />\r\n\t\t\t<strong className=\"sidebar__title\">PLAYLISTS</strong>\r\n\t\t\t<hr />\r\n\t\t\t<div className=\"sidebar__playlist\">\r\n\t\t\t\t{playlists?.items?.map((playlist) => (\r\n\t\t\t\t\t<SidebarOption\r\n\t\t\t\t\t\ttitle={playlist.name}\r\n\t\t\t\t\t\tto={`/playlist/${playlist.id}`}\r\n\t\t\t\t\t\tid={playlist.id}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { Avatar } from \"@material-ui/core\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\nimport ArrowBackIosRoundedIcon from \"@material-ui/icons/ArrowBackIosRounded\";\r\nimport ArrowForwardIosRoundedIcon from \"@material-ui/icons/ArrowForwardIosRounded\";\r\nimport ArrowDropDownOutlinedIcon from \"@material-ui/icons/ArrowDropDownOutlined\";\r\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\r\n\r\nfunction Header({ spotifyApi }) {\r\n\tconst [{ user }, dispatch] = useDataLayerValue();\r\n\tconst history = useHistory();\r\n\tconst location = useLocation().pathname;\r\n\r\n\tfunction goBack() {\r\n\t\tif (history.location.key) {\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction goForward() {\r\n\t\thistory.goForward();\r\n\t}\r\n\r\n\tconst sendQuery = (event) => {\r\n\t\tspotifyApi\r\n\t\t\t.search(\r\n\t\t\t\tevent.target.value,\r\n\t\t\t\t[\"track\", \"artist\", \"album\", \"playlist\", \"show\", \"episode\"],\r\n\t\t\t\t{ limit: 7 }\r\n\t\t\t)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_QUERY\",\r\n\t\t\t\t\tpayload: response,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(\"error in header \", err));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"header\">\r\n\t\t\t<div className=\"header__left\">\r\n\t\t\t\t<div className=\"header__left--arrows\">\r\n\t\t\t\t\t<ArrowBackIosRoundedIcon onClick={goBack} />\r\n\t\t\t\t\t<ArrowForwardIosRoundedIcon onClick={goForward} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<Link to=\"/search\" className=\"header__left--search\">\r\n\t\t\t\t\t\t<SearchIcon />\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tplaceholder=\"Search\"\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tonChange={sendQuery}\r\n\t\t\t\t\t\t\tautoFocus={location === \"/search\" ? true : false}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"header__right\">\r\n\t\t\t\t<Avatar src={user?.images[0].url} alt=\"avatar\" />\r\n\t\t\t\t<h4>{user?.display_name}</h4>\r\n\t\t\t\t<ArrowDropDownOutlinedIcon />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Header;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./SongRow.css\";\r\nimport PlayCircleOutlinedIcon from \"@material-ui/icons/PlayCircleOutline\";\r\nimport PauseCircleOutlineRoundedIcon from \"@material-ui/icons/PauseCircleOutlineRounded\";\r\n// import VolumeUpRoundedIcon from \"@material-ui/icons/VolumeUpRounded\";\r\nimport FavoriteBorderRoundedIcon from \"@material-ui/icons/FavoriteBorderRounded\";\r\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n\r\nfunction SongRow({ track, spotifyApi, index, isLocal }) {\r\n\tconst [\r\n\t\t{ playlist, player, playback, saved, library },\r\n\t\tdispatch,\r\n\t] = useDataLayerValue();\r\n\r\n\tconst playPause = (event, newState) => {\r\n\t\tif (playlist) {\r\n\t\t\tif (\r\n\t\t\t\tplayback?.context.uri === playlist?.uri &&\r\n\t\t\t\tplayback?.track_window?.current_track?.uri === track?.uri\r\n\t\t\t) {\r\n\t\t\t\tplayer.togglePlay();\r\n\t\t\t} else {\r\n\t\t\t\tspotifyApi.play({\r\n\t\t\t\t\tcontext_uri: playlist?.uri,\r\n\t\t\t\t\toffset: { uri: track?.uri },\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if (library) {\r\n\t\t\tif (playback?.track_window?.current_track?.uri === track?.uri) {\r\n\t\t\t\tplayer.togglePlay();\r\n\t\t\t} else {\r\n\t\t\t\tconst context = library.items.map((item) => {\r\n\t\t\t\t\treturn item.track.uri;\r\n\t\t\t\t});\r\n\t\t\t\tspotifyApi.play({\r\n\t\t\t\t\turis: context,\r\n\t\t\t\t\toffset: { uri: track?.uri },\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (\r\n\t\t\tlibrary &&\r\n\t\t\tplayback?.track_window?.next_tracks == null &&\r\n\t\t\tlibrary.next\r\n\t\t) {\r\n\t\t\tspotifyApi\r\n\t\t\t\t.getMySavedTracks({\r\n\t\t\t\t\toffset: library.offset + library.limit,\r\n\t\t\t\t\tlimit: 50,\r\n\t\t\t\t})\r\n\t\t\t\t.then((savedTracks) => {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: \"ADD_TO_LIBRARY\",\r\n\t\t\t\t\t\tpayload: savedTracks,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tconst context = library.items.map((item) => {\r\n\t\t\t\t\t\treturn item.track.uri;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn context;\r\n\t\t\t\t})\r\n\t\t\t\t.then((context) => {\r\n\t\t\t\t\tspotifyApi.play({\r\n\t\t\t\t\t\turis: context,\r\n\t\t\t\t\t\toffset: { uri: track?.uri },\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tconst toggleFav = () => {\r\n\t\tif (saved[index]) {\r\n\t\t\tspotifyApi.removeFromMySavedTracks([track?.id]).then(() =>\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_SINGLE_SAVED\",\r\n\t\t\t\t\tpayload: false,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tspotifyApi.addToMySavedTracks([track?.id]).then(() =>\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_SINGLE_SAVED\",\r\n\t\t\t\t\tpayload: true,\r\n\t\t\t\t\tindex: index,\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"songRow\">\r\n\t\t\t<div className=\"songRow__container\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName=\"songRow__cover\"\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\ttrack?.is_local\r\n\t\t\t\t\t\t\t? \"https://image.flaticon.com/icons/png/512/121/121148.png\"\r\n\t\t\t\t\t\t\t: track.album?.images[0]?.url\r\n\t\t\t\t\t}\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tonClick={isLocal ? null : playPause}\r\n\t\t\t\t/>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`${isLocal ? null : \"songRow__overlay\"} ${\r\n\t\t\t\t\t\tisLocal\r\n\t\t\t\t\t\t\t? null\r\n\t\t\t\t\t\t\t: !playback?.paused &&\r\n\t\t\t\t\t\t\t  playback?.track_window.current_track.id ===\r\n\t\t\t\t\t\t\t\t\ttrack?.id\r\n\t\t\t\t\t\t\t? \"visible\"\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{isLocal ? null : playback?.track_window.current_track\r\n\t\t\t\t\t\t\t.id === track?.id ? (\r\n\t\t\t\t\t\tplayback?.paused ? (\r\n\t\t\t\t\t\t\t<PlayCircleOutlinedIcon\r\n\t\t\t\t\t\t\t\t// fontSize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName=\"songRow__overlayIcon\"\r\n\t\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<PauseCircleOutlineRoundedIcon\r\n\t\t\t\t\t\t\t\tclassName=\"songRow__overlayIcon\"\r\n\t\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<PlayCircleOutlinedIcon\r\n\t\t\t\t\t\t\t// fontSize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"songRow__overlayIcon\"\r\n\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"songRow__savedTrack\">\r\n\t\t\t\t{isLocal ? (\r\n\t\t\t\t\t<FavoriteRoundedIcon fontSize=\"small\" className=\"hidden\" />\r\n\t\t\t\t) : saved[index] ? (\r\n\t\t\t\t\t<FavoriteRoundedIcon fontSize=\"small\" onClick={toggleFav} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<FavoriteBorderRoundedIcon\r\n\t\t\t\t\t\tfontSize=\"small\"\r\n\t\t\t\t\t\tonClick={toggleFav}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div className=\"songRow__info\">\r\n\t\t\t\t<h1>{track.name}</h1>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{track.artists.map((artist) => artist.name).join(\", \")}\r\n\t\t\t\t\t<span>{isLocal ? null : \" â€¢ \"}</span>\r\n\t\t\t\t\t{track.album.name}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SongRow;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./Body.css\";\r\nimport Header from \"./Header\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n// import PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport PlayCircleFilledRoundedIcon from \"@material-ui/icons/PlayCircleFilledRounded\";\r\nimport PauseCircleFilledRoundedIcon from \"@material-ui/icons/PauseCircleFilledRounded\";\r\n// import FavoriteIcon from \"@material-ui/icons/Favorite\";\r\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\n// import MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport MoreHorizRoundedIcon from \"@material-ui/icons/MoreHorizRounded\";\r\nimport SongRow from \"./SongRow\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\n\r\nfunction Body({ spotifyApi, library }) {\r\n\tlet { id } = useParams();\r\n\tconst [\r\n\t\t{ playlist, player, playback, tracks },\r\n\t\tdispatch,\r\n\t] = useDataLayerValue();\r\n\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\r\n\tconst playPause = (event, newState) => {\r\n\t\tif (playback?.context.uri === playlist?.uri) {\r\n\t\t\tplayer.togglePlay();\r\n\t\t} else {\r\n\t\t\tspotifyApi.play({ context_uri: playlist?.uri });\r\n\t\t}\r\n\t};\r\n\r\n\tconst element = document.getElementsByClassName(\"body\");\r\n\r\n\tconst header = document.getElementsByClassName(\"header\");\r\n\r\n\tuseEffect(() => {\r\n\t\telement[0].addEventListener(\"scroll\", handleScroll);\r\n\r\n\t\treturn () => {\r\n\t\t\telement[0].removeEventListener(\"scroll\", handleScroll);\r\n\t\t};\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\telement[0].addEventListener(\"scroll\", colorChange);\r\n\r\n\t\treturn () => {\r\n\t\t\telement[0].removeEventListener(\"scroll\", colorChange);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst colorChange = () => {\r\n\t\tif (element[0].scrollTop > 25) {\r\n\t\t\theader[0].style.backgroundColor = \"#0a0a0a\";\r\n\t\t} else if (element[0].scrollTop < 25) {\r\n\t\t\theader[0].style.backgroundColor = \"#636363\";\r\n\t\t}\r\n\t};\r\n\r\n\tfunction handleScroll() {\r\n\t\tif (\r\n\t\t\telement[0].scrollHeight - element[0].scrollTop ===\r\n\t\t\telement[0].clientHeight\r\n\t\t) {\r\n\t\t\tif (tracks.next !== null) {\r\n\t\t\t\tspotifyApi\r\n\t\t\t\t\t.getPlaylistTracks(playlist?.id, {\r\n\t\t\t\t\t\toffset: tracks.offset + tracks.limit,\r\n\t\t\t\t\t\tlimit: 50,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((savedTracks) => {\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: \"ADD_TRACKS\",\r\n\t\t\t\t\t\t\tpayload: savedTracks,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconst idsStatus = savedTracks.items.map((item) => {\r\n\t\t\t\t\t\t\treturn item.track.id;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn idsStatus;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((ids) => {\r\n\t\t\t\t\t\treturn spotifyApi.containsMySavedTracks(ids);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((ids) => {\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: \"ADD_SAVED\",\r\n\t\t\t\t\t\t\tpayload: ids,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => console.log(\"err: \", err));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({\r\n\t\t\ttype: \"SET_LIBRARY\",\r\n\t\t\tpayload: null,\r\n\t\t});\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (id) {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\tspotifyApi\r\n\t\t\t\t.getPlaylist(id, { limit: 50 })\r\n\t\t\t\t.then((playlist) => {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: \"SET_PLAYLIST\",\r\n\t\t\t\t\t\tpayload: playlist,\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn playlist;\r\n\t\t\t\t})\r\n\t\t\t\t.then((playlist) => {\r\n\t\t\t\t\treturn spotifyApi.getPlaylistTracks(playlist.id, {\r\n\t\t\t\t\t\tlimit: 50,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then((tracks) => {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: \"SET_TRACKS\",\r\n\t\t\t\t\t\tpayload: tracks,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst idsStatus = tracks.items.map((item) => {\r\n\t\t\t\t\t\treturn item.track.id;\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn idsStatus;\r\n\t\t\t\t})\r\n\t\t\t\t.then((ids) => {\r\n\t\t\t\t\treturn spotifyApi\r\n\t\t\t\t\t\t.containsMySavedTracks(ids)\r\n\t\t\t\t\t\t.then((results) => {\r\n\t\t\t\t\t\t\tlet index = 0;\r\n\t\t\t\t\t\t\tconst final = ids.map((item) => {\r\n\t\t\t\t\t\t\t\tif (item === null) {\r\n\t\t\t\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tlet id = results[index];\r\n\t\t\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\t\t\t\treturn id;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn final;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then((ids) => {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: \"SET_SAVED\",\r\n\t\t\t\t\t\tpayload: ids,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => setIsLoading(false))\r\n\t\t\t\t.catch((err) => console.log(\"error body.js \", err));\r\n\t\t}\r\n\t}, [id]);\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<Header spotifyApi={spotifyApi} />\r\n\r\n\t\t\t<BeatLoader loading={isLoading} />\r\n\r\n\t\t\t<div className={`${isLoading ? \"hide\" : \"body__info\"}`}>\r\n\t\t\t\t<img src={playlist?.images[0]?.url} alt=\"\" />\r\n\t\t\t\t<div className=\"body__infoText\">\r\n\t\t\t\t\t<strong>PLAYLIST</strong>\r\n\t\t\t\t\t<h2>{playlist?.name}</h2>\r\n\t\t\t\t\t<p>{playlist?.description}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={`${isLoading ? \"hide\" : \"body__songs\"}`}>\r\n\t\t\t\t<div className=\"body__icons\">\r\n\t\t\t\t\t{playback?.context.uri === playlist?.uri ? (\r\n\t\t\t\t\t\tplayback?.paused ? (\r\n\t\t\t\t\t\t\t<PlayCircleFilledRoundedIcon\r\n\t\t\t\t\t\t\t\tclassName=\"body__play\"\r\n\t\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<PauseCircleFilledRoundedIcon\r\n\t\t\t\t\t\t\t\tclassName=\"body__play\"\r\n\t\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<PlayCircleFilledRoundedIcon\r\n\t\t\t\t\t\t\tclassName=\"body__play\"\r\n\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<FavoriteRoundedIcon className=\"body__heart\" />\r\n\t\t\t\t\t<MoreHorizRoundedIcon className=\"body__more\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t{tracks?.items?.map((item, index) => (\r\n\t\t\t\t\t<SongRow\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t\ttrack={item.track}\r\n\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\tisLocal={item.is_local}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Body;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./Footer.css\";\r\nimport PlayCircleOutlinedIcon from \"@material-ui/icons/PlayCircleOutline\";\r\nimport PauseCircleOutlineRoundedIcon from \"@material-ui/icons/PauseCircleOutlineRounded\";\r\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\r\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\r\nimport ShuffleIcon from \"@material-ui/icons/Shuffle\";\r\n// import RepeatIcon from \"@material-ui/icons/Repeat\";\r\nimport RepeatRoundedIcon from \"@material-ui/icons/RepeatRounded\";\r\nimport RepeatOneRoundedIcon from \"@material-ui/icons/RepeatOneRounded\";\r\nimport { Grid, Slider } from \"@material-ui/core\";\r\nimport PlaylistPlayIcon from \"@material-ui/icons/PlaylistPlay\";\r\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\r\nimport VolumeUpRoundedIcon from \"@material-ui/icons/VolumeUpRounded\";\r\n// import VolumeDownRoundedIcon from \"@material-ui/icons/VolumeDownRounded\";\r\nimport VolumeMuteRoundedIcon from \"@material-ui/icons/VolumeMuteRounded\";\r\nimport VolumeOffRoundedIcon from \"@material-ui/icons/VolumeOffRounded\";\r\nimport FavoriteBorderRoundedIcon from \"@material-ui/icons/FavoriteBorderRounded\";\r\nimport FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n\r\nfunction Footer({ spotifyApi }) {\r\n\tconst [\r\n\t\t{\r\n\t\t\tvolume,\r\n\t\t\tplayer,\r\n\t\t\tplayback,\r\n\t\t\tquery,\r\n\t\t\trecentTracks,\r\n\t\t\trecommandations,\r\n\t\t\tfeaturedPlaylists,\r\n\t\t\tnewReleases,\r\n\t\t\tcategories,\r\n\t\t\ttopTracks,\r\n\t\t},\r\n\t\tdispatch,\r\n\t] = useDataLayerValue();\r\n\tconst [vol, setVol] = useState(0);\r\n\tconst [fav, setFav] = useState(false);\r\n\r\n\tconst element = document.body;\r\n\r\n\tconst keyBoardController = (event) => {\r\n\t\tif (player && event.target === element) {\r\n\t\t\tif (event.keyCode === 32) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tplayer.togglePlay();\r\n\t\t\t} else if (event.keyCode === 77) {\r\n\t\t\t\tmute(event);\r\n\t\t\t} else if (event.keyCode === 37) {\r\n\t\t\t\tseekPosition(\r\n\t\t\t\t\tevent,\r\n\t\t\t\t\t((playback?.position - 5000) * 100) / playback?.duration\r\n\t\t\t\t);\r\n\t\t\t} else if (event.keyCode === 39) {\r\n\t\t\t\tseekPosition(\r\n\t\t\t\t\tevent,\r\n\t\t\t\t\t((playback?.position + 5000) * 100) / playback?.duration\r\n\t\t\t\t);\r\n\t\t\t} else if (event.keyCode === 38) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tchangeVolume(event, volume + 10);\r\n\t\t\t} else if (event.keyCode === 40) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tchangeVolume(event, volume - 10);\r\n\t\t\t} else if (event.keyCode === 188) {\r\n\t\t\t\tprevTrack();\r\n\t\t\t} else if (event.keyCode === 190) {\r\n\t\t\t\tnextTrack();\r\n\t\t\t} else if (event.keyCode === 82) {\r\n\t\t\t\tactivateRepeat();\r\n\t\t\t} else if (event.keyCode === 83) {\r\n\t\t\t\tactivateShuffle();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\tuseEffect(() => {\r\n\t\telement.addEventListener(\"keydown\", keyBoardController);\r\n\r\n\t\treturn () => {\r\n\t\t\telement.removeEventListener(\"keydown\", keyBoardController);\r\n\t\t};\r\n\t});\r\n\r\n\tconst activateShuffle = () => {\r\n\t\tspotifyApi.setShuffle(!playback?.shuffle);\r\n\t};\r\n\r\n\tconst activateRepeat = () => {\r\n\t\tswitch (playback?.repeat_mode) {\r\n\t\t\tcase 0:\r\n\t\t\t\tspotifyApi.setRepeat(\"context\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tspotifyApi.setRepeat(\"track\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tspotifyApi.setRepeat(\"off\");\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn playback?.repeat_mode;\r\n\t\t}\r\n\t};\r\n\r\n\tconst mute = (event) => {\r\n\t\tif (vol === 0) {\r\n\t\t\tplayer.setVolume(0);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: \"SET_VOLUME\",\r\n\t\t\t\tpayload: 0, // volume: 64 ==> 0\r\n\t\t\t});\r\n\t\t\tsetVol(volume); // volume: 64 vol: 0 ==> 64\r\n\t\t} else {\r\n\t\t\tplayer.setVolume(vol / 100);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: \"SET_VOLUME\",\r\n\t\t\t\tpayload: vol,\r\n\t\t\t});\r\n\t\t\tsetVol(0); // volume: 0 vol: 64 ==> 0\r\n\t\t}\r\n\t};\r\n\r\n\tconst changeVolume = (event, newVolume) => {\r\n\t\tif (newVolume > 100) {\r\n\t\t\tnewVolume = 100;\r\n\t\t} else if (newVolume < 0) {\r\n\t\t\tnewVolume = 0;\r\n\t\t}\r\n\t\tplayer.setVolume(newVolume / 100);\r\n\t\tdispatch({\r\n\t\t\ttype: \"SET_VOLUME\",\r\n\t\t\tpayload: newVolume,\r\n\t\t});\r\n\t};\r\n\r\n\tconst prevTrack = () => {\r\n\t\tspotifyApi\r\n\t\t\t.getMyCurrentPlaybackState()\r\n\t\t\t.then((result) => result.progress_ms)\r\n\t\t\t.then((ms) => {\r\n\t\t\t\tif (ms > 3000) {\r\n\t\t\t\t\tplayer.seek(0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tplayer.previousTrack();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst playPause = (event, newState) => {\r\n\t\tplayer.togglePlay();\r\n\t};\r\n\r\n\tconst check = () => {\r\n\t\tconsole.log(\"wtf: \", player);\r\n\t\tconsole.log(\"playback: \", playback);\r\n\t\tconsole.log(\"recent: \", recentTracks);\r\n\t\tconsole.log(\"recommendations: \", recommandations);\r\n\t\tconsole.log(\"featured: \", featuredPlaylists);\r\n\t\tconsole.log(\"releases: \", newReleases);\r\n\t\tconsole.log(\"categories: \", categories);\r\n\t\tconsole.log(\"top tracks: \", topTracks);\r\n\t\tconsole.log(\"query: \", query);\r\n\t};\r\n\r\n\tconst nextTrack = () => {\r\n\t\tplayer.nextTrack();\r\n\t};\r\n\r\n\tconst seekPosition = (event, newPosition) => {\r\n\t\tplayer.seek((newPosition * playback?.duration) / 100);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst interval = setInterval(() => {\r\n\t\t\tif (player && !playback?.paused) {\r\n\t\t\t\tplayer.getCurrentState().then((state) => {\r\n\t\t\t\t\t// if (!state) {\r\n\t\t\t\t\t// \tconsole.error(\r\n\t\t\t\t\t// \t\t\"User is not playing music through the Web Playback SDK\"\r\n\t\t\t\t\t// \t);\r\n\t\t\t\t\t// \treturn;\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: \"SET_CURRENT_PLAYBACK\",\r\n\t\t\t\t\t\tpayload: state,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, 250);\r\n\t\tif (playback?.paused) {\r\n\t\t\tclearInterval(interval);\r\n\t\t}\r\n\t\treturn () => clearInterval(interval);\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tif (playback) {\r\n\t\t\tspotifyApi\r\n\t\t\t\t.containsMySavedTracks([\r\n\t\t\t\t\tplayback?.track_window.current_track.id,\r\n\t\t\t\t])\r\n\t\t\t\t.then((result) => {\r\n\t\t\t\t\tsetFav(...result);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => console.log(\"error in footer \", err));\r\n\t\t}\r\n\t}, [playback]);\r\n\r\n\tconst toggleFav = () => {\r\n\t\tif (fav) {\r\n\t\t\tspotifyApi\r\n\t\t\t\t.removeFromMySavedTracks([\r\n\t\t\t\t\tplayback?.track_window?.current_track?.id,\r\n\t\t\t\t])\r\n\t\t\t\t.then(() => setFav(false));\r\n\t\t} else {\r\n\t\t\tspotifyApi\r\n\t\t\t\t.addToMySavedTracks([playback?.track_window?.current_track?.id])\r\n\t\t\t\t.then(() => setFav(true));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"footer\">\r\n\t\t\t<div className=\"footer__left\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName={`${playback ? \"footer__albumLogo\" : null}`}\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\tplayback?.track_window.current_track.album.images[0].url\r\n\t\t\t\t\t}\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"footer__songInfo\">\r\n\t\t\t\t\t<h4>{playback?.track_window.current_track.name}</h4>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{playback?.track_window.current_track.artists\r\n\t\t\t\t\t\t\t.map((artist) => artist.name)\r\n\t\t\t\t\t\t\t.join(\", \")}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"footer__savedTrack\">\r\n\t\t\t\t\t{playback ? (\r\n\t\t\t\t\t\tfav ? (\r\n\t\t\t\t\t\t\t<FavoriteRoundedIcon\r\n\t\t\t\t\t\t\t\tfontSize=\"small\"\r\n\t\t\t\t\t\t\t\tonClick={toggleFav}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<FavoriteBorderRoundedIcon\r\n\t\t\t\t\t\t\t\tfontSize=\"small\"\r\n\t\t\t\t\t\t\t\tonClick={toggleFav}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div> </div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"footer__center\">\r\n\t\t\t\t<div className=\"footer_buttons\">\r\n\t\t\t\t\t<ShuffleIcon\r\n\t\t\t\t\t\tclassName={`footer__icon ${\r\n\t\t\t\t\t\t\tplayback?.shuffle ? \"footer__green\" : \"\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tonClick={activateShuffle}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<SkipPreviousIcon\r\n\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\tonClick={prevTrack}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{playback ? (\r\n\t\t\t\t\t\tplayback.paused ? (\r\n\t\t\t\t\t\t\t<PlayCircleOutlinedIcon\r\n\t\t\t\t\t\t\t\tfontSize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<PauseCircleOutlineRoundedIcon\r\n\t\t\t\t\t\t\t\tfontSize=\"large\"\r\n\t\t\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<PlayCircleOutlinedIcon\r\n\t\t\t\t\t\t\tfontSize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<SkipNextIcon\r\n\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\tonClick={nextTrack}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{playback ? (\r\n\t\t\t\t\t\tplayback?.repeat_mode < 2 ? (\r\n\t\t\t\t\t\t\t<RepeatRoundedIcon\r\n\t\t\t\t\t\t\t\tclassName={`footer__icon ${\r\n\t\t\t\t\t\t\t\t\tplayback?.repeat_mode ? \"footer__green\" : \"\"\r\n\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\tonClick={activateRepeat}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<RepeatOneRoundedIcon\r\n\t\t\t\t\t\t\t\tclassName=\"footer__icon footer__green\"\r\n\t\t\t\t\t\t\t\tonClick={activateRepeat}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<RepeatRoundedIcon\r\n\t\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\t\tonClick={activateRepeat}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Slider\r\n\t\t\t\t\tvalue={(playback?.position * 100) / playback?.duration}\r\n\t\t\t\t\tonChange={seekPosition}\r\n\t\t\t\t\tclassName=\"footer__progress\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"footer__right\">\r\n\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<PlaylistPlayIcon\r\n\t\t\t\t\t\t\tonClick={check}\r\n\t\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t{volume > 66 ? (\r\n\t\t\t\t\t\t\t<VolumeUpRoundedIcon\r\n\t\t\t\t\t\t\t\tonClick={mute}\r\n\t\t\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : volume > 33 ? (\r\n\t\t\t\t\t\t\t<VolumeDownIcon\r\n\t\t\t\t\t\t\t\tonClick={mute}\r\n\t\t\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : volume > 0 ? (\r\n\t\t\t\t\t\t\t<VolumeMuteRoundedIcon\r\n\t\t\t\t\t\t\t\tonClick={mute}\r\n\t\t\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<VolumeOffRoundedIcon\r\n\t\t\t\t\t\t\t\tonClick={mute}\r\n\t\t\t\t\t\t\t\tclassName=\"footer__icon\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item xs>\r\n\t\t\t\t\t\t<Slider value={volume} onChange={changeVolume} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"./Body.css\";\r\nimport Header from \"./Header\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n// import PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\r\nimport PlayCircleFilledRoundedIcon from \"@material-ui/icons/PlayCircleFilledRounded\";\r\nimport PauseCircleFilledRoundedIcon from \"@material-ui/icons/PauseCircleFilledRounded\";\r\n// import FavoriteIcon from \"@material-ui/icons/Favorite\";\r\n// import FavoriteRoundedIcon from \"@material-ui/icons/FavoriteRounded\";\r\n// import MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport MoreHorizRoundedIcon from \"@material-ui/icons/MoreHorizRounded\";\r\nimport SongRow from \"./SongRow\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\n\r\nfunction Library({ spotifyApi }) {\r\n\tconst [\r\n\t\t{ playlist, player, playback, library, user },\r\n\t\tdispatch,\r\n\t] = useDataLayerValue();\r\n\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\tconst element = document.getElementsByClassName(\"body\");\r\n\r\n\tconst header = document.getElementsByClassName(\"header\");\r\n\r\n\tuseEffect(() => {\r\n\t\telement[0].addEventListener(\"scroll\", colorChange);\r\n\r\n\t\treturn () => {\r\n\t\t\telement[0].removeEventListener(\"scroll\", colorChange);\r\n\t\t};\r\n\t});\r\n\r\n\tconst colorChange = () => {\r\n\t\tif (element[0].scrollTop > 25) {\r\n\t\t\theader[0].style.backgroundColor = \"#0a0a0a\";\r\n\t\t} else if (element[0].scrollTop < 25) {\r\n\t\t\theader[0].style.backgroundColor = \"#636363\";\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({\r\n\t\t\ttype: \"SET_PLAYLIST\",\r\n\t\t\tpayload: null,\r\n\t\t});\r\n\t\tsetIsLoading(true);\r\n\t\tspotifyApi\r\n\t\t\t.getMySavedTracks({ limit: 50 })\r\n\t\t\t.then((savedTracks) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_LIBRARY\",\r\n\t\t\t\t\tpayload: savedTracks,\r\n\t\t\t\t});\r\n\t\t\t\treturn savedTracks;\r\n\t\t\t})\r\n\t\t\t.then((savedTracks) => {\r\n\t\t\t\tconst idsStatus = savedTracks.items.map((item) => {\r\n\t\t\t\t\treturn item.track.id;\r\n\t\t\t\t});\r\n\t\t\t\treturn idsStatus;\r\n\t\t\t})\r\n\t\t\t.then((ids) => spotifyApi.containsMySavedTracks(ids))\r\n\t\t\t.then((ids) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_SAVED\",\r\n\t\t\t\t\tpayload: ids,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tconst context = library?.items.map((item) => {\r\n\t\t\t\t\treturn item.track.uri;\r\n\t\t\t\t});\r\n\t\t\t\treturn context;\r\n\t\t\t})\r\n\t\t\t.then((uris) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_URIS\",\r\n\t\t\t\t\tpayload: uris,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.then(() => setIsLoading(false))\r\n\t\t\t.catch((err) => console.log(\"err in library: \", err));\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\telement[0].addEventListener(\"scroll\", handleScroll);\r\n\r\n\t\treturn () => {\r\n\t\t\telement[0].removeEventListener(\"scroll\", handleScroll);\r\n\t\t};\r\n\t});\r\n\r\n\tfunction handleScroll() {\r\n\t\tif (\r\n\t\t\telement[0].scrollHeight - element[0].scrollTop ===\r\n\t\t\telement[0].clientHeight\r\n\t\t) {\r\n\t\t\tif (library.next !== null) {\r\n\t\t\t\tspotifyApi\r\n\t\t\t\t\t.getMySavedTracks({\r\n\t\t\t\t\t\toffset: library.offset + library.limit,\r\n\t\t\t\t\t\tlimit: 50,\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((savedTracks) => {\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: \"ADD_TO_LIBRARY\",\r\n\t\t\t\t\t\t\tpayload: savedTracks,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconst idsStatus = savedTracks.items.map((item) => {\r\n\t\t\t\t\t\t\treturn item.track.id;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn idsStatus;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((ids) => spotifyApi.containsMySavedTracks(ids))\r\n\t\t\t\t\t.then((ids) => {\r\n\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\ttype: \"ADD_SAVED\",\r\n\t\t\t\t\t\t\tpayload: ids,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err) => console.log(\"err in library: \", err));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst playPause = (event, newState) => {\r\n\t\tif (playback?.context.uri === `spotify:user:${user.name}:collection`) {\r\n\t\t\tplayer.togglePlay();\r\n\t\t} else {\r\n\t\t\tspotifyApi.play({ context_uri: `spotify:collection` });\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<Header spotifyApi={spotifyApi} />\r\n\r\n\t\t\t<BeatLoader loading={isLoading} />\r\n\r\n\t\t\t<div className={`${isLoading ? \"hide\" : \"body__info\"}`}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"https://t.scdn.co/images/3099b3803ad9496896c43f22fe9be8c4.png\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"body__infoText\">\r\n\t\t\t\t\t<strong>PLAYLIST</strong>\r\n\t\t\t\t\t<h2>Polubione utwory</h2>\r\n\t\t\t\t\t<p></p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={`${isLoading ? \"hide\" : \"body__songs\"}`}>\r\n\t\t\t\t<div className=\"body__icons\">\r\n\t\t\t\t\t{playback?.context.uri === playlist?.uri ? (\r\n\t\t\t\t\t\tplayback?.paused ? (\r\n\t\t\t\t\t\t\t<PlayCircleFilledRoundedIcon\r\n\t\t\t\t\t\t\t\tclassName=\"body__play\"\r\n\t\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<PauseCircleFilledRoundedIcon\r\n\t\t\t\t\t\t\t\tclassName=\"body__play\"\r\n\t\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<PlayCircleFilledRoundedIcon\r\n\t\t\t\t\t\t\tclassName=\"body__play\"\r\n\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<MoreHorizRoundedIcon className=\"body__more\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t{library?.items?.map((item) => (\r\n\t\t\t\t\t<SongRow\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t\ttrack={item.track}\r\n\t\t\t\t\t\tindex={1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Library;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PlayCircleOutlinedIcon from \"@material-ui/icons/PlayCircleOutline\";\r\nimport PauseCircleOutlineRoundedIcon from \"@material-ui/icons/PauseCircleOutlineRounded\";\r\n// import PersonTwoToneIcon from \"@material-ui/icons/PersonTwoTone\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport \"./Card.css\";\r\n\r\nfunction Card({ track, type, spotifyApi }) {\r\n\tconst [{ player, playback }, dispatch] = useDataLayerValue();\r\n\r\n\tconst [isLoading, setIsLoading] = useState(true);\r\n\r\n\tconst playPause = (event, newState) => {\r\n\t\tif (\r\n\t\t\ttrack.type === \"album\" ||\r\n\t\t\ttrack.type === \"artist\" ||\r\n\t\t\ttrack.type === \"playlist\" ||\r\n\t\t\ttrack.type === \"show\"\r\n\t\t) {\r\n\t\t\tif (playback?.context.uri === track?.uri) {\r\n\t\t\t\tplayer.togglePlay();\r\n\t\t\t} else {\r\n\t\t\t\tspotifyApi.play({\r\n\t\t\t\t\tcontext_uri: track?.uri,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (playback?.track_window?.current_track?.uri === track?.uri) {\r\n\t\t\t\tplayer.togglePlay();\r\n\t\t\t} else {\r\n\t\t\t\tspotifyApi.play({\r\n\t\t\t\t\turis: [track.uri],\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tsetIsLoading(true);\r\n\t}, [track.uri]);\r\n\r\n\tconst imgLoaded = () => {\r\n\t\tsetIsLoading(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"card\">\r\n\t\t\t<div className={`${isLoading ? \"card__spinner\" : \"hide\"}`}>\r\n\t\t\t\t<BeatLoader loading={isLoading} />\r\n\t\t\t</div>\r\n\t\t\t<div className={`${isLoading ? \"hide\" : \"card__container\"}`}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tclassName=\"card__cover\"\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\ttype === \"track\"\r\n\t\t\t\t\t\t\t? track?.album?.images[0]?.url\r\n\t\t\t\t\t\t\t: track?.images[0]?.url ||\r\n\t\t\t\t\t\t\t  \"https://teslamotorsclub.com/tmc/styles/xenith/xenforo/avatars/avatar_male_l.png\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tonLoad={imgLoaded}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"card__overlay\">\r\n\t\t\t\t\t{(!playback?.paused &&\r\n\t\t\t\t\t\tplayback?.context.uri === track?.uri) ||\r\n\t\t\t\t\t(!playback?.paused &&\r\n\t\t\t\t\t\tplayback?.track_window?.current_track?.uri ===\r\n\t\t\t\t\t\t\ttrack?.uri) ? (\r\n\t\t\t\t\t\t<PauseCircleOutlineRoundedIcon\r\n\t\t\t\t\t\t\tclassName=\"card__overlayIcon\"\r\n\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<PlayCircleOutlinedIcon\r\n\t\t\t\t\t\t\t// fontSize=\"large\"\r\n\t\t\t\t\t\t\tclassName=\"card__overlayIcon\"\r\n\t\t\t\t\t\t\tonClick={playPause}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={`${isLoading ? \"hide\" : \"card__info\"}`}>\r\n\t\t\t\t<h1>{track.name}</h1>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{type === \"Tracks\" || type === \"Albums\"\r\n\t\t\t\t\t\t? track.artists.map((artist) => artist.name).join(\", \")\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\nimport \"./Cards.css\";\r\n\r\nfunction Cards({ title, items, spotifyApi }) {\r\n\tconst [\r\n\t\t{ query, playlist, player, playback, saved, tracks },\r\n\t\tdispatch,\r\n\t] = useDataLayerValue();\r\n\treturn (\r\n\t\t<div className=\"cards\">\r\n\t\t\t<h1 className=\"cards__title\">{title}</h1>\r\n\t\t\t<hr />\r\n\t\t\t<div className=\"cards__container\">\r\n\t\t\t\t{items?.map(\r\n\t\t\t\t\t(item) => (\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\ttrack={item}\r\n\t\t\t\t\t\t\ttype={item.type}\r\n\t\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t// )\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Cards;\r\n","import React, { useEffect } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Cards from \"./Cards\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\nimport \"./Body.css\";\r\nimport \"./Search.css\";\r\nimport \"./Home.css\";\r\n\r\nfunction Home({ spotifyApi }) {\r\n\tconst [\r\n\t\t{ featuredPlaylists, newReleases, topTracks },\r\n\t\tdispatch,\r\n\t] = useDataLayerValue();\r\n\r\n\tuseEffect(() => {\r\n\t\tspotifyApi\r\n\t\t\t.getMyTopTracks()\r\n\t\t\t.then((tracks) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_TOP_TRACKS\",\r\n\t\t\t\t\tpayload: tracks,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(\"error: \", err));\r\n\t\tspotifyApi\r\n\t\t\t.getMyRecentlyPlayedTracks()\r\n\t\t\t.then((tracks) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_RECENT_TRACKS\",\r\n\t\t\t\t\tpayload: tracks,\r\n\t\t\t\t});\r\n\t\t\t\treturn tracks;\r\n\t\t\t})\r\n\t\t\t.then((tracks) => {\r\n\t\t\t\tconst ids = tracks.items[0].track.id;\r\n\t\t\t\t// .slice(0, 5)\r\n\t\t\t\t// .map((item) => item.track.id);\r\n\t\t\t\tconsole.log(\"ids \", ids);\r\n\t\t\t\treturn spotifyApi.getRecommendations([ids]);\r\n\t\t\t})\r\n\t\t\t.then((recommendations) => {\r\n\t\t\t\tconsole.log(\"recommendations: \", recommendations);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_RECOMMENDATIONS\",\r\n\t\t\t\t\tpayload: recommendations,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(\"error: \", err));\r\n\r\n\t\tspotifyApi\r\n\t\t\t.getFeaturedPlaylists()\r\n\t\t\t.then((playlists) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_FEATURED_PLAYLISTS\",\r\n\t\t\t\t\tpayload: playlists,\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(\"error: \", err));\r\n\t\tspotifyApi\r\n\t\t\t.getNewReleases()\r\n\t\t\t.then((releases) =>\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_NEW_RELEASES\",\r\n\t\t\t\t\tpayload: releases,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.catch((err) => console.log(\"error: \", err));\r\n\t\tspotifyApi\r\n\t\t\t.getCategories()\r\n\t\t\t.then((categories) =>\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_CATEGORIES\",\r\n\t\t\t\t\tpayload: categories,\r\n\t\t\t\t})\r\n\t\t\t)\r\n\t\t\t.catch((err) => console.log(\"error: \", err));\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<div className=\"home__header\">\r\n\t\t\t\t<Header spotifyApi={spotifyApi} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"search__cards\">\r\n\t\t\t\t{topTracks ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"Top tracks\"\r\n\t\t\t\t\t\titems={topTracks?.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{/* {recentTracks?.items?.length ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"Recently played\"\r\n\t\t\t\t\t\titems={recentTracks?.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null} */}\r\n\t\t\t\t{featuredPlaylists ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"Featured playlists\"\r\n\t\t\t\t\t\titems={featuredPlaylists?.playlists.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{newReleases ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"New releases\"\r\n\t\t\t\t\t\titems={newReleases?.albums.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Cards from \"./Cards\";\r\nimport \"./Body.css\";\r\nimport \"./Search.css\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n\r\nfunction Search({ spotifyApi }) {\r\n\tconst [{ query }, dispatch] = useDataLayerValue();\r\n\r\n\treturn (\r\n\t\t<div className=\"body\">\r\n\t\t\t<div className=\"search__header\">\r\n\t\t\t\t<Header spotifyApi={spotifyApi} className=\"search__header\" />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"search__cards\">\r\n\t\t\t\t{query?.tracks?.items.length ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"Tracks\"\r\n\t\t\t\t\t\titems={query?.tracks?.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{query?.artists?.items.length ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"Artists\"\r\n\t\t\t\t\t\titems={query?.artists?.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{query?.albums?.items.length ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"Albums\"\r\n\t\t\t\t\t\titems={query?.albums?.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{query?.playlists?.items.length ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"Playlists\"\r\n\t\t\t\t\t\titems={query?.playlists?.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{query?.shows?.items.length ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"Shows\"\r\n\t\t\t\t\t\titems={query?.shows?.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t{query?.episodes?.items.length ? (\r\n\t\t\t\t\t<Cards\r\n\t\t\t\t\t\ttitle=\"Episodes\"\r\n\t\t\t\t\t\titems={query?.episodes?.items}\r\n\t\t\t\t\t\tspotifyApi={spotifyApi}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Search;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./Player.css\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport Body from \"./Body\";\r\nimport Footer from \"./Footer\";\r\n// import Topbar from \"./Topbar\";\r\n// import Playbar from \"./Playbar\";\r\nimport Library from \"./Library\";\r\n// import Header from \"./Header\";\r\nimport Home from \"./Home\";\r\nimport Search from \"./Search\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { useDataLayerValue } from \"./DataLayer\";\r\n\r\nfunction Player({ spotifyApi }) {\r\n\tconst [{ user, token }, dispatch] = useDataLayerValue();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst script = document.createElement(\"script\");\r\n\r\n\t\tscript.src = \"https://sdk.scdn.co/spotify-player.js\";\r\n\t\tscript.async = true;\r\n\r\n\t\tdocument.body.appendChild(script);\r\n\r\n\t\treturn () => {\r\n\t\t\tdocument.body.removeChild(script);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (spotifyApi) {\r\n\t\t\twindow.onSpotifyWebPlaybackSDKReady = () => {\r\n\t\t\t\tvar player = new window.Spotify.Player({\r\n\t\t\t\t\tname: \"Localhost Player\",\r\n\t\t\t\t\tgetOAuthToken: (cb) => {\r\n\t\t\t\t\t\tcb(token);\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t\t// Error handling\r\n\t\t\t\tplayer.addListener(\"initialization_error\", ({ message }) => {\r\n\t\t\t\t\tconsole.error(message);\r\n\t\t\t\t});\r\n\t\t\t\tplayer.addListener(\"authentication_error\", ({ message }) => {\r\n\t\t\t\t\tconsole.error(message);\r\n\t\t\t\t});\r\n\t\t\t\tplayer.addListener(\"account_error\", ({ message }) => {\r\n\t\t\t\t\tconsole.error(message);\r\n\t\t\t\t});\r\n\t\t\t\tplayer.addListener(\"playback_error\", ({ message }) => {\r\n\t\t\t\t\tconsole.error(message);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Playback status updates\r\n\t\t\t\tplayer.addListener(\"player_state_changed\", (state) => {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: \"SET_CURRENT_PLAYBACK\",\r\n\t\t\t\t\t\tpayload: state,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Ready\r\n\t\t\t\tplayer.addListener(\"ready\", ({ device_id }) => {\r\n\t\t\t\t\tspotifyApi\r\n\t\t\t\t\t\t.getMyDevices()\r\n\t\t\t\t\t\t.then((result) => {\r\n\t\t\t\t\t\t\tconst targetId = result.devices.filter((device) => {\r\n\t\t\t\t\t\t\t\treturn device.name === \"Localhost Player\";\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\treturn targetId;\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.then((id) =>\r\n\t\t\t\t\t\t\tspotifyApi.transferMyPlayback([id[0].id], {\r\n\t\t\t\t\t\t\t\tplay: \"false\",\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tplayer.getVolume().then((volume) => {\r\n\t\t\t\t\t\t\t\tlet volume_percentage = volume * 100;\r\n\t\t\t\t\t\t\t\t// console.log(\r\n\t\t\t\t\t\t\t\t// \t`The volume of the player is ${volume_percentage}%`\r\n\t\t\t\t\t\t\t\t// );\r\n\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\ttype: \"SET_VOLUME\",\r\n\t\t\t\t\t\t\t\t\tpayload: volume_percentage,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Not Ready\r\n\t\t\t\tplayer.addListener(\"not_ready\", ({ device_id }) => {\r\n\t\t\t\t\tconsole.log(\"Device ID has gone offline\", device_id);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Connect to the player!\r\n\t\t\t\tplayer.connect().then((success) => {\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\"The Web Playback SDK successfully connected to Spotify!\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_PLAYER\",\r\n\t\t\t\t\tpayload: player,\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\tspotifyApi.getMe().then((user) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_USER\",\r\n\t\t\t\t\tpayload: user,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tspotifyApi.getUserPlaylists(user?.id).then((playlists) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_PLAYLISTS\",\r\n\t\t\t\t\tpayload: playlists,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t\tspotifyApi\r\n\t\t\t\t.getPlaylist(\"37i9dQZEVXcSGu8DAFFrX6\")\r\n\t\t\t\t.then((playlist) => {\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: \"SET_OVER_WEEKLY\",\r\n\t\t\t\t\t\tpayload: playlist,\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\tspotifyApi.getUserPlaylists().then((playlists) => {\r\n\t\t\t\tconst ids = playlists.items.map((playlist) => playlist.id);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: \"SET_PLAYLISTS_ID\",\r\n\t\t\t\t\tpayload: ids,\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"player\">\r\n\t\t\t<div className=\"player__body\">\r\n\t\t\t\t<Sidebar />\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route path=\"/search\">\r\n\t\t\t\t\t\t<Search spotifyApi={spotifyApi} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/library\">\r\n\t\t\t\t\t\t<Library spotifyApi={spotifyApi} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/playlist/:id\">\r\n\t\t\t\t\t\t<Body spotifyApi={spotifyApi} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/\">\r\n\t\t\t\t\t\t<Home spotifyApi={spotifyApi} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</div>\r\n\t\t\t<Footer spotifyApi={spotifyApi} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Player;\r\n","import React, { useEffect } from \"react\";\nimport \"./App.css\";\nimport Login from \"./Login\";\nimport { getTokenFromUrl } from \"./spotify\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\nimport Player from \"./Player\";\nimport { useDataLayerValue } from \"./DataLayer\";\n\nconst spotifyApi = new SpotifyWebApi();\n\nfunction App() {\n\tconst [{ token }, dispatch] = useDataLayerValue();\n\n\tuseEffect(() => {\n\t\tconst hash = getTokenFromUrl();\n\t\twindow.location.hash = \"\";\n\t\tconst _token = hash.access_token;\n\t\tspotifyApi.setAccessToken(_token);\n\n\t\tdispatch({\n\t\t\ttype: \"SET_TOKEN\",\n\t\t\tpayload: _token,\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t{token ? <Player spotifyApi={spotifyApi} /> : <Login />}\n\t\t</div>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const initialState = {\r\n\tuser: null,\r\n\tplaylists: [],\r\n\tplaying: false,\r\n\titem: null,\r\n\tids: [],\r\n\tid: null,\r\n\tvolume: 100,\r\n\tplayer: null,\r\n\tplayback: null,\r\n\tdeviceId: null,\r\n\tspotifyApi: null,\r\n\tplaylist: null,\r\n\tlibrary: null,\r\n\tsaved: [],\r\n\ttracks: [],\r\n\turis: null,\r\n\tquery: null,\r\n\trecentTracks: null,\r\n\trecommandations: null,\r\n\tfeaturedPlaylists: null,\r\n\tnewReleases: null,\r\n\tcategories: null,\r\n\ttopTracks: null,\r\n\ttoken: null,\r\n\t// token:\r\n\t// \t\"BQBxtKH_dZRuJTRUfYctZaKEqEFuuqsQl9xMr3w5BlBgqsbFCT_QHl9VpGCqJrUYgofORIut3cI4ZayjbNVSRi9-hhfKq0Zu-tZ_unQd9PTJ9h56HPmMMU3H-WNciAfwXBdqRVQrYUK4XHL3BtrvwvpGIdTHQw\",\r\n};\r\n\r\nconst reducer = (state, action, index) => {\r\n\t// console.log(action);\r\n\r\n\tswitch (action.type) {\r\n\t\tcase \"SET_USER\":\r\n\t\t\treturn { ...state, user: action.payload };\r\n\t\tcase \"SET_TOKEN\":\r\n\t\t\treturn { ...state, token: action.payload };\r\n\t\tcase \"SET_PLAYLISTS\":\r\n\t\t\treturn { ...state, playlists: action.payload };\r\n\t\tcase \"SET_DISCOVER_WEEKLY\":\r\n\t\t\treturn { ...state, discover_weekly: action.payload };\r\n\t\tcase \"SET_PLAYLISTS_ID\":\r\n\t\t\treturn { ...state, ids: action.payload };\r\n\t\tcase \"SET_VOLUME\":\r\n\t\t\treturn { ...state, volume: action.payload };\r\n\t\tcase \"SET_PLAYER\":\r\n\t\t\treturn { ...state, player: action.payload };\r\n\t\tcase \"SET_CURRENT_PLAYBACK\":\r\n\t\t\treturn { ...state, playback: action.payload };\r\n\t\tcase \"SET_DEVICE_ID\":\r\n\t\t\treturn { ...state, deviceId: action.payload };\r\n\t\tcase \"SET_API\":\r\n\t\t\treturn { ...state, spotifyApi: action.payload };\r\n\t\tcase \"SET_PLAYLIST\":\r\n\t\t\treturn { ...state, playlist: action.payload };\r\n\t\tcase \"SET_LIBRARY\":\r\n\t\t\treturn { ...state, library: action.payload };\r\n\t\tcase \"ADD_TO_LIBRARY\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tlibrary: {\r\n\t\t\t\t\titems: [...state.library.items, ...action.payload.items],\r\n\t\t\t\t\thref: action.payload.href,\r\n\t\t\t\t\tlimit: action.payload.limit,\r\n\t\t\t\t\tnext: action.payload.next,\r\n\t\t\t\t\toffset: action.payload.offset,\r\n\t\t\t\t\tprevious: action.payload.previous,\r\n\t\t\t\t\ttotal: action.payload.total,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\tcase \"SET_SAVED\":\r\n\t\t\treturn { ...state, saved: action.payload };\r\n\t\tcase \"ADD_SAVED\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsaved: [...state.saved, ...action.payload],\r\n\t\t\t};\r\n\t\tcase \"SET_TRACKS\":\r\n\t\t\treturn { ...state, tracks: action.payload };\r\n\t\tcase \"ADD_TRACKS\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttracks: {\r\n\t\t\t\t\titems: [...state.tracks.items, ...action.payload.items],\r\n\t\t\t\t\thref: action.payload.href,\r\n\t\t\t\t\tlimit: action.payload.limit,\r\n\t\t\t\t\tnext: action.payload.next,\r\n\t\t\t\t\toffset: action.payload.offset,\r\n\t\t\t\t\tprevious: action.payload.previous,\r\n\t\t\t\t\ttotal: action.payload.total,\r\n\t\t\t\t},\r\n\t\t\t};\r\n\t\tcase \"SET_URIS\":\r\n\t\t\treturn { ...state, uris: action.payload };\r\n\t\tcase \"SET_SINGLE_SAVED\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tsaved: [\r\n\t\t\t\t\t...state.saved,\r\n\t\t\t\t\t(state.saved[action.index] = action.payload),\r\n\t\t\t\t],\r\n\t\t\t};\r\n\t\tcase \"SET_QUERY\":\r\n\t\t\treturn { ...state, query: action.payload };\r\n\t\tcase \"SET_RECENT_TRACKS\":\r\n\t\t\treturn { ...state, recentTracks: action.payload };\r\n\t\tcase \"SET_RECOMMENDATIONS\":\r\n\t\t\treturn { ...state, recommandations: action.payload };\r\n\t\tcase \"SET_FEATURED_PLAYLISTS\":\r\n\t\t\treturn { ...state, featuredPlaylists: action.payload };\r\n\t\tcase \"SET_NEW_RELEASES\":\r\n\t\t\treturn { ...state, newReleases: action.payload };\r\n\t\tcase \"SET_CATEGORIES\":\r\n\t\t\treturn { ...state, categories: action.payload };\r\n\t\tcase \"SET_TOP_TRACKS\":\r\n\t\t\treturn { ...state, topTracks: action.payload };\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;\r\n","// import \"./wdyr\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { DataLayer } from \"./DataLayer\";\nimport reducer, { initialState } from \"./reducer\";\nimport { BrowserRouter } from \"react-router-dom\";\n// import { createBrowserHistory } from \"history\";\n\n// const history = createBrowserHistory();\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<React.StrictMode>\n\t\t\t<DataLayer initialState={initialState} reducer={reducer}>\n\t\t\t\t<App />\n\t\t\t</DataLayer>\n\t\t</React.StrictMode>\n\t</BrowserRouter>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}